{"version":3,"sources":["../src/resize-handle.jsx"],"names":[],"mappings":";;;;;;AAAA;;;;;;;;;;;;;;IAEqB,Y;;;AAYnB,wBAAY,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,4BAAM,KAAN,CADiB;;AAAA,UAiDnB,gBAjDmB,GAiDA,UAAC,KAAD,EAAW;AAC5B,YAAK,KAAL,CAAW,MAAM,OAAN,CAAc,CAAd,EAAiB,KAA5B,EAAmC,MAAM,OAAN,CAAc,CAAd,EAAiB,KAApD;;AAEA,YAAM,cAAN;AACD,KArDkB;;AAAA,UAuDnB,eAvDmB,GAuDD,UAAC,KAAD,EAAW;AAC3B,YAAK,IAAL,CAAU,MAAM,OAAN,CAAc,CAAd,EAAiB,KAA3B,EAAkC,MAAM,OAAN,CAAc,CAAd,EAAiB,KAAnD;AACD,KAzDkB;;AAAA,UA2DnB,cA3DmB,GA2DF,UAAC,KAAD,EAAW;AAC1B,YAAK,GAAL;AACD,KA7DkB;;AAAA,UA+DnB,eA/DmB,GA+DD,UAAC,KAAD,EAAW;AAC3B,YAAK,KAAL,CAAW,MAAM,KAAjB,EAAwB,MAAM,KAA9B;;AAEA,YAAM,cAAN;AACD,KAnEkB;;AAAA,UAqEnB,eArEmB,GAqED,UAAC,KAAD,EAAW;AAC3B,YAAK,IAAL,CAAU,MAAM,KAAhB,EAAuB,MAAM,KAA7B;AACD,KAvEkB;;AAAA,UAyEnB,aAzEmB,GAyEH,UAAC,KAAD,EAAW;AACzB,YAAK,GAAL;AACD,KA3EkB;;AAAA,UAkHnB,gBAlHmB,GAkHA,UAAC,KAAD,EAAW;AAC5B,YAAK,QAAL,CAAc,EAAC,UAAU,IAAX,EAAd;AACD,KApHkB;;AAAA,UAsHnB,gBAtHmB,GAsHA,UAAC,KAAD,EAAW;AAC5B,YAAK,QAAL,CAAc,EAAC,UAAU,KAAX,EAAd;AACD,KAxHkB;;AAGjB,UAAK,MAAL,GAAc,IAAd;AACA,UAAK,MAAL,GAAc,IAAd;;AAEA,UAAK,KAAL,GAAa;AACX,gBAAU,KADC;AAEX,gBAAU;AAFC,KAAb;AANiB;AAUlB;;yBAED,oB,mCAAuB;AACrB,SAAK,YAAL;AACA,SAAK,YAAL;AACD,G;;yBAED,M,qBAAS;AAAA,QACA,MADA,GACU,YADV,CACA,MADA;;;AAGP,QAAI,kBAAkB,IAAtB;AACA,QAAI,aAAa,IAAjB;;AAEA,QAAI,KAAK,KAAL,CAAW,SAAX,KAAyB,OAA7B,EAAsC;AACpC,wBAAkB,OAAO,cAAzB;AACA,mBAAa,OAAO,SAApB;AACD,KAHD,MAGO;AACL,wBAAkB,OAAO,eAAzB;AACA,mBAAa,OAAO,UAApB;AACD;;AAED,QAAI,KAAK,KAAL,CAAW,QAAX,IAAuB,KAAK,KAAL,CAAW,QAAtC,EAAgD;AAC9C,gCACK,UADL,EAEK,OAAO,SAFZ;AAID;;AAED,WACE;AAAA;MAAA,EAAK,OAAO,eAAZ;AACK,sBAAc,KAAK,gBADxB;AAEK,sBAAc,KAAK,gBAFxB;AAGK,4BAAoB,KAAK,eAH9B;AAIK,6BAAqB,KAAK,gBAJ/B;MAKE,uCAAK,OAAO,UAAZ;AALF,KADF;AASD,G;;yBA8BD,K,kBAAM,K,EAAO,K,EAAO;AAClB,SAAK,QAAL,CAAc,EAAC,UAAU,IAAX,EAAd;;AAEA,SAAK,MAAL,GAAc,KAAd;AACA,SAAK,MAAL,GAAc,KAAd;;AAEA,SAAK,YAAL;AACA,SAAK,YAAL;;AAEA,QAAI,KAAK,KAAL,CAAW,aAAf,EAA8B;AAC5B,WAAK,KAAL,CAAW,aAAX;AACD;AACF,G;;yBAED,I,iBAAK,K,EAAO,K,EAAO;AACjB,QAAM,QAAQ,QAAQ,KAAK,MAA3B;AACA,QAAM,QAAQ,QAAQ,KAAK,MAA3B;;AAEA,QAAI,KAAK,KAAL,CAAW,QAAf,EAAyB;AACvB,WAAK,KAAL,CAAW,QAAX,CAAoB,KAApB,EAA2B,KAA3B;AACD;;AAED,SAAK,MAAL,GAAc,KAAd;AACA,SAAK,MAAL,GAAc,KAAd;AACD,G;;yBAED,G,kBAAM;AACJ,SAAK,YAAL;AACA,SAAK,YAAL;;AAEA,QAAI,KAAK,KAAL,CAAW,WAAf,EAA4B;AAC1B,WAAK,KAAL,CAAW,WAAX;AACD;;AAED,SAAK,QAAL,CAAc,EAAC,UAAU,KAAX,EAAd;AACD,G;;yBAUD,Y,2BAAe;AACb,aAAS,IAAT,CAAc,gBAAd,CAA+B,WAA/B,EAA4C,KAAK,eAAjD,EAAkE,IAAlE;AACA,aAAS,IAAT,CAAc,gBAAd,CAA+B,SAA/B,EAA0C,KAAK,aAA/C,EAA8D,IAA9D;AACD,G;;yBAED,Y,2BAAe;AACb,aAAS,IAAT,CAAc,mBAAd,CAAkC,WAAlC,EAA+C,KAAK,eAApD,EAAqE,IAArE;AACA,aAAS,IAAT,CAAc,mBAAd,CAAkC,SAAlC,EAA6C,KAAK,aAAlD,EAAiE,IAAjE;AACD,G;;yBAED,Y,2BAAe;AACb,aAAS,IAAT,CAAc,gBAAd,CAA+B,WAA/B,EAA4C,KAAK,eAAjD,EAAkE,IAAlE;AACA,aAAS,IAAT,CAAc,gBAAd,CAA+B,UAA/B,EAA2C,KAAK,cAAhD,EAAgE,IAAhE;AACD,G;;yBAED,Y,2BAAe;AACb,aAAS,IAAT,CAAc,mBAAd,CAAkC,WAAlC,EAA+C,KAAK,eAApD,EAAqE,IAArE;AACA,aAAS,IAAT,CAAc,mBAAd,CAAkC,UAAlC,EAA8C,KAAK,cAAnD,EAAmE,IAAnE;AACD,G;;;EAxJuC,gBAAM,S;;AAA3B,Y,CACZ,S,GAAY;AACjB,iBAAe,gBAAM,SAAN,CAAgB,IADd;AAEjB,YAAU,gBAAM,SAAN,CAAgB,IAFT;AAGjB,eAAa,gBAAM,SAAN,CAAgB,IAHZ;AAIjB,aAAW,gBAAM,SAAN,CAAgB;AAJV,C;AADA,Y,CAQZ,Y,GAAe;AACpB,aAAW;AADS,C;kBARH,Y;;;AA2JrB,IAAM,SAAS;AACb,kBAAgB;AACd,cAAU,UADI;AAEd,SAAK,CAFS;AAGd,WAAO,CAAC,CAHM;AAId,YAAQ,CAJM;AAKd,WAAO,EALO;AAMd,YAAQ,WANM;AAOd,qBAAiB,aAPH;;AASd,mBAAe;AATD,GADH;;AAab,mBAAiB;AACf,cAAU,UADK;AAEf,UAAM,CAFS;AAGf,YAAQ,CAAC,CAHM;AAIf,WAAO,CAJQ;AAKf,YAAQ,EALO;AAMf,YAAQ,WANO;AAOf,qBAAiB,aAPF;;AASf,mBAAe;AATA,GAbJ;;AAyBb,aAAW;AACT,cAAU,UADD;AAET,UAAM,CAFG;AAGT,SAAK,CAHI;AAIT,WAAO,CAJE;AAKT,YAAQ,CALC;AAMT,qBAAiB,aANR;AAOT,aAAS;AAPA,GAzBE;;AAmCb,cAAY;AACV,cAAU,UADA;AAEV,SAAK,CAFK;AAGV,UAAM,CAHI;AAIV,WAAO,CAJG;AAKV,YAAQ,CALE;AAMV,qBAAiB,aANP;AAOV,aAAS;AAPC,GAnCC;;AA6Cb,aAAW;AACT,qBAAiB;AADR;AA7CE,CAAf;;AAkDA,aAAa,MAAb,GAAsB,MAAtB","file":"resize-handle.js","sourcesContent":["import React from 'react';\n\nexport default class ResizeHandle extends React.Component {\n  static propTypes = {\n    onResizeStart: React.PropTypes.func,\n    onResize: React.PropTypes.func,\n    onResizeEnd: React.PropTypes.func,\n    dimension: React.PropTypes.string\n  };\n\n  static defaultProps = {\n    dimension: 'width'\n  };\n\n  constructor(props) {\n    super(props);\n\n    this._pageX = null;\n    this._pageY = null;\n\n    this.state = {\n      dragging: false,\n      hovering: false\n    };\n  }\n\n  componentWillUnmount() {\n    this.releaseMouse();\n    this.releaseTouch();\n  }\n\n  render() {\n    const {styles} = ResizeHandle;\n\n    let containerStyles = null;\n    let lineStyles = null;\n\n    if (this.props.dimension === 'width') {\n      containerStyles = styles.containerWidth;\n      lineStyles = styles.lineWidth;\n    } else {\n      containerStyles = styles.containerHeight;\n      lineStyles = styles.lineHeight;\n    }\n\n    if (this.state.hovering || this.state.dragging) {\n      lineStyles = {\n        ...lineStyles,\n        ...styles.lineHover\n      };\n    }\n\n    return (\n      <div style={containerStyles}\n           onMouseEnter={this.handleMouseEnter}\n           onMouseLeave={this.handleMouseLeave}\n           onMouseDownCapture={this.handleMouseDown}\n           onTouchStartCapture={this.handleTouchStart}>\n        <div style={lineStyles}></div>\n      </div>\n    );\n  }\n\n  handleTouchStart = (event) => {\n    this.start(event.touches[0].pageX, event.touches[0].pageY);\n\n    event.preventDefault();\n  }\n\n  handleTouchMove = (event) => {\n    this.move(event.touches[0].pageX, event.touches[0].pageY);\n  }\n\n  handleTouchEnd = (event) => {\n    this.end();\n  }\n\n  handleMouseDown = (event) => {\n    this.start(event.pageX, event.pageY);\n\n    event.preventDefault();\n  }\n\n  handleMouseMove = (event) => {\n    this.move(event.pageX, event.pageY);\n  }\n\n  handleMouseUp = (event) => {\n    this.end();\n  }\n\n  start(pageX, pageY) {\n    this.setState({dragging: true});\n\n    this._pageX = pageX;\n    this._pageY = pageY;\n\n    this.captureTouch();\n    this.captureMouse();\n\n    if (this.props.onResizeStart) {\n      this.props.onResizeStart();\n    }\n  }\n\n  move(pageX, pageY) {\n    const diffX = pageX - this._pageX;\n    const diffY = pageY - this._pageY;\n\n    if (this.props.onResize) {\n      this.props.onResize(diffX, diffY);\n    }\n\n    this._pageX = pageX;\n    this._pageY = pageY;\n  }\n\n  end() {\n    this.releaseMouse();\n    this.releaseTouch();\n\n    if (this.props.onResizeEnd) {\n      this.props.onResizeEnd();\n    }\n\n    this.setState({dragging: false});\n  }\n\n  handleMouseEnter = (event) => {\n    this.setState({hovering: true});\n  }\n\n  handleMouseLeave = (event) => {\n    this.setState({hovering: false});\n  }\n\n  captureMouse() {\n    document.body.addEventListener('mousemove', this.handleMouseMove, true);\n    document.body.addEventListener('mouseup', this.handleMouseUp, true);\n  }\n\n  releaseMouse() {\n    document.body.removeEventListener('mousemove', this.handleMouseMove, true);\n    document.body.removeEventListener('mouseup', this.handleMouseUp, true);\n  }\n\n  captureTouch() {\n    document.body.addEventListener('touchmove', this.handleTouchMove, true);\n    document.body.addEventListener('touchend', this.handleTouchEnd, true);\n  }\n\n  releaseTouch() {\n    document.body.removeEventListener('touchmove', this.handleTouchMove, true);\n    document.body.removeEventListener('touchend', this.handleTouchEnd, true);\n  }\n}\n\nconst styles = {\n  containerWidth: {\n    position: 'absolute',\n    top: 0,\n    right: -9,\n    bottom: 0,\n    width: 16,\n    cursor: 'ew-resize',\n    backgroundColor: 'transparent',\n    // zIndex: 1, TODO(zhm) IE10 seems to need this zIndex to receive any mouse events, I think it ends up below everything somehow\n    pointerEvents: 'auto'\n  },\n\n  containerHeight: {\n    position: 'absolute',\n    left: 0,\n    bottom: -9,\n    right: 0,\n    height: 16,\n    cursor: 'ns-resize',\n    backgroundColor: 'transparent',\n    // zIndex: 1,\n    pointerEvents: 'auto'\n  },\n\n  lineWidth: {\n    position: 'absolute',\n    left: 6,\n    top: 0,\n    width: 4,\n    bottom: 0,\n    backgroundColor: 'transparent',\n    opacity: 1\n  },\n\n  lineHeight: {\n    position: 'absolute',\n    top: 6,\n    left: 0,\n    right: 0,\n    height: 4,\n    backgroundColor: 'transparent',\n    opacity: 1\n  },\n\n  lineHover: {\n    backgroundColor: '#18a3f7'\n  }\n};\n\nResizeHandle.styles = styles;\n"]}