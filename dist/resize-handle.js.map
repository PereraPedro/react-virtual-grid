{"version":3,"sources":["../src/resize-handle.jsx"],"names":["ResizeHandle","props","handleTouchStart","event","start","touches","pageX","pageY","preventDefault","handleTouchMove","move","handleTouchEnd","end","handleMouseDown","handleMouseMove","handleMouseUp","handleMouseEnter","setState","hovering","handleMouseLeave","_pageX","_pageY","state","dragging","componentWillUnmount","releaseMouse","releaseTouch","render","styles","containerStyles","lineStyles","dimension","containerWidth","lineWidth","containerHeight","lineHeight","lineHover","captureTouch","captureMouse","onResizeStart","diffX","diffY","onResize","onResizeEnd","document","body","addEventListener","removeEventListener","Component","propTypes","PropTypes","func","string","defaultProps","position","top","right","bottom","width","cursor","backgroundColor","pointerEvents","left","height","opacity","borderRadius"],"mappings":"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","file":"resize-handle.js","sourcesContent":["/* eslint-disable react/style-prop-object */\n\nimport React from 'react';\n\nexport default class ResizeHandle extends React.Component {\n  static propTypes = {\n    onResizeStart: React.PropTypes.func,\n    onResize: React.PropTypes.func,\n    onResizeEnd: React.PropTypes.func,\n    dimension: React.PropTypes.string\n  };\n\n  static defaultProps = {\n    dimension: 'width'\n  };\n\n  constructor(props) {\n    super(props);\n\n    this._pageX = null;\n    this._pageY = null;\n\n    this.state = {\n      dragging: false,\n      hovering: false\n    };\n  }\n\n  componentWillUnmount() {\n    this.releaseMouse();\n    this.releaseTouch();\n  }\n\n  render() {\n    const {styles} = ResizeHandle;\n\n    let containerStyles = null;\n    let lineStyles = null;\n\n    if (this.props.dimension === 'width') {\n      containerStyles = styles.containerWidth;\n      lineStyles = styles.lineWidth;\n    } else {\n      containerStyles = styles.containerHeight;\n      lineStyles = styles.lineHeight;\n    }\n\n    if (this.state.hovering || this.state.dragging) {\n      lineStyles = {\n        ...lineStyles,\n        ...styles.lineHover\n      };\n    }\n\n    return (\n      <div style={containerStyles}\n           onMouseEnter={this.handleMouseEnter}\n           onMouseLeave={this.handleMouseLeave}\n           onMouseDownCapture={this.handleMouseDown}\n           onTouchStartCapture={this.handleTouchStart}>\n        <div style={lineStyles} />\n      </div>\n    );\n  }\n\n  handleTouchStart = (event) => {\n    this.start(event.touches[0].pageX, event.touches[0].pageY);\n\n    event.preventDefault();\n  }\n\n  handleTouchMove = (event) => {\n    this.move(event.touches[0].pageX, event.touches[0].pageY);\n  }\n\n  handleTouchEnd = (event) => {\n    this.end();\n  }\n\n  handleMouseDown = (event) => {\n    this.start(event.pageX, event.pageY);\n\n    event.preventDefault();\n  }\n\n  handleMouseMove = (event) => {\n    this.move(event.pageX, event.pageY);\n  }\n\n  handleMouseUp = (event) => {\n    this.end();\n  }\n\n  start(pageX, pageY) {\n    this.setState({dragging: true});\n\n    this._pageX = pageX;\n    this._pageY = pageY;\n\n    this.captureTouch();\n    this.captureMouse();\n\n    if (this.props.onResizeStart) {\n      this.props.onResizeStart();\n    }\n  }\n\n  move(pageX, pageY) {\n    const diffX = pageX - this._pageX;\n    const diffY = pageY - this._pageY;\n\n    if (this.props.onResize) {\n      this.props.onResize(diffX, diffY);\n    }\n\n    this._pageX = pageX;\n    this._pageY = pageY;\n  }\n\n  end() {\n    this.releaseMouse();\n    this.releaseTouch();\n\n    if (this.props.onResizeEnd) {\n      this.props.onResizeEnd();\n    }\n\n    this.setState({dragging: false});\n  }\n\n  handleMouseEnter = (event) => {\n    this.setState({hovering: true});\n  }\n\n  handleMouseLeave = (event) => {\n    this.setState({hovering: false});\n  }\n\n  captureMouse() {\n    document.body.addEventListener('mousemove', this.handleMouseMove, true);\n    document.body.addEventListener('mouseup', this.handleMouseUp, true);\n  }\n\n  releaseMouse() {\n    document.body.removeEventListener('mousemove', this.handleMouseMove, true);\n    document.body.removeEventListener('mouseup', this.handleMouseUp, true);\n  }\n\n  captureTouch() {\n    document.body.addEventListener('touchmove', this.handleTouchMove, true);\n    document.body.addEventListener('touchend', this.handleTouchEnd, true);\n  }\n\n  releaseTouch() {\n    document.body.removeEventListener('touchmove', this.handleTouchMove, true);\n    document.body.removeEventListener('touchend', this.handleTouchEnd, true);\n  }\n}\n\nconst styles = {\n  containerWidth: {\n    position: 'absolute',\n    top: 0,\n    right: -9,\n    bottom: 0,\n    width: 16,\n    cursor: 'ew-resize',\n    backgroundColor: 'transparent',\n    // zIndex: 1, TODO(zhm) IE10 seems to need this zIndex to receive any mouse events, I think it ends up below everything somehow\n    pointerEvents: 'auto'\n  },\n\n  containerHeight: {\n    position: 'absolute',\n    left: 0,\n    bottom: -9,\n    right: 0,\n    height: 16,\n    cursor: 'ns-resize',\n    backgroundColor: 'transparent',\n    // zIndex: 1,\n    pointerEvents: 'auto'\n  },\n\n  lineWidth: {\n    position: 'absolute',\n    left: 6,\n    top: 0,\n    width: 4,\n    bottom: 0,\n    backgroundColor: 'transparent',\n    opacity: 1,\n    borderRadius: 0\n  },\n\n  lineHeight: {\n    position: 'absolute',\n    top: 6,\n    left: 0,\n    right: 0,\n    height: 4,\n    backgroundColor: 'transparent',\n    opacity: 1,\n    borderRadius: 0\n  },\n\n  lineHover: {\n    backgroundColor: '#18a3f7'\n  }\n};\n\nResizeHandle.styles = styles;\n"]}